<!DOCTYPE html>
<html lang="en" xmlns:th="http://java.sun.com/JSP/Page">
<head>
    <meta charset="UTF-8">
    <title>accountdetails</title>
   <link type="text/css" href="css/accountdetails.css" rel="stylesheet" />
    <link type="text/css" href="css/navbar.css" rel="stylesheet"/>


</head>
<body th:object="${account}">
<!-- Navigation bra section -->
<div id="navbar" >
    <a>
        <form th:action="@{logoutAction}" method="post">
            <input id="logoutbutton" type="submit" name="submitbutton" value="Logout"/>
        </form>
    </a>
    <a href="/myaccounts">Accounts overview</a>
    <span id="logoNavbar"></span>
</div>


<div class="content">
    <div class="wrapper">
<span id="dateTime"></span><br>
    <h1>Account details</h1>

    <!--<THAT'S THE DROPDOWN SELECT. DIFFICULT MAYBE, LETS SEE IF I HAVE TIME LEFT-->
<!--
    <label for="accountNumber">AccountList</label>
        <select id="accountNumber" name="accountNumber" th:value="${accountnumber}">
            <option id="option" th:each="account : ${accounts}" th:value="${account.accountNumber}" th:text="${account.accountNumber}">
            </option>
        </select>
<<<<<<< HEAD
        <button type="submit" id="SUBMIT_BUTTON"  value="DoTransfer">choose account</button>-->


    <!--TABLE HOUDT INFORMATIE OVER REKENING HOUDER -->

<div class="infoTable">
    <div class="inforow">
        <div class = "infocell infoheader">IBAN</div>
        <div class = "infocell"><span th:text="${account.accountNumber}"></span></div>
    </div>
    <div class="inforow">
        <div class = "infocell infoheader">Balance</div>
        <div class = "infocell">â‚¬ <span th:text="${#numbers.formatDecimal(account.balance, 0, 2)}"></span></div>
    </div>
    <div class="inforow">
        <div class = "infocell infoheader">Account Type</div>
        <div class="infocell"><span th:text="${account.accountType}"></span></div>
    </div>
    <div class="inforow">
        <div class = "infocell infoheader">Account holders</div>
        <div class="infocell" th:each="customer : ${list}"><span th:text="${customer.firstName}"></span>  <span th:text="${customer.lastName}"></span></div>
    </div>
</div>
<div class="buttondiv">
    <form th:action="@{transaction}"  method="get">
        <button type="submit" id="submitButton" name="accountId" th:value="${account.accountId}"   value="DoTransfer">New money transfer</button>
    </form>
    <form th:action="@{addaccountholder}" method="get">
        <button type = "submit" id = "addaccountholderbutton" th:name="accountNumber" th:value="${account.accountNumber}" value = "Add Accountholder">Add accountholder</button>
    </form>
</div>




    <!--TABLE HOUDT INFORMATIE OVER TRANSACTIE REKENING HOUDER -->
<div class="table">

    <div class="row header">
        <div class="cell">Date Transaction</div>
        <div class="cell">IBAN </div>
        <div class="cell">Name</div>
        <div class="cell">description</div>
        <div class="cell"> Amount</div>
    </div>

    <div class="row" th:each="transaction : ${transactionList}">

        <div class="cell"  th:text="${transaction.dateTime}"></div>
        <div class="cell"  th:text="${transaction.bankAccountNumber}"></div>
        <div class="cell"  th:text="${transaction.customerName}"></div>
        <div class="cell"  th:text="${transaction.description}"></div>
        <div class="cell"  th:text="${#numbers.formatDecimal(transaction.amount, 0, 2)}"></div>

    </div>

</div>
</div>

</div>





<script src="js/navbar.js"></script>

</body>

<script>
    function updateClock() {
        let now = new Date(), // current date
            months = ['January', 'February', 'March','April','Mei','June','July','Augustus','September','October','November','December']; // you get the idea

        let time = now.getHours() + ':' + ((now.getMinutes() < 10)?"0":"") + now.getMinutes();

            // a cleaner way than string concatenation
            date = [now.getDate(),
                months[now.getMonth()],
                now.getFullYear()].join(' ');

        // set the content of the element with the ID time to the formatted string
        document.getElementById('dateTime').innerHTML = [date, time].join(' / ');

        // call this function again in 1000ms
        setTimeout(updateClock, 1000);
    }
    updateClock(); // initial call

 /*   const accountNumber = document.getElementById("option");


    console.log(accountNumber.innerHTML);*/



</script>

</html>
