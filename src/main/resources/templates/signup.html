<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>signup</title>
    <style>
        * {box-sizing: border-box};
        * {font-family: 'DejaVu Sans', Arial, Helvetica, sans-serif}

        body{
            align-content: center;
            background-color: #ebebeb;
            margin: auto;
            width: 90%;
            font-family: 'DejaVu Sans', Arial, Helvetica, sans-serif
        }

        form{
            margin-left: 20px;
            margin-right: 20px;
            width: 500px;
        }

        fieldset{
            border: none;
        }

        input[type=text], input[type=password], input[type=email], input[type=number] {
            width: 100%;
            padding: 15px;
            margin: 5px 0 22px 0;
            display: inline-block;
            border: none;
            background: #f1f1f1;
        }

        /* Add a background color when the inputs get focus */
        input[type=text]:focus, input[type=password]:focus, input[type=email]:focus, input[type=number]:focus{
            background-color: #ddd;
            outline: none;
        }

        input[type=text]:disabled, input[type=password]:disabled, input[type=email]:disabled, input[type=number]:disabled {
            background: #dcdcdc;
        }

        /* Set a style for all buttons */
        button {
            background-color: #1E90FF;
            color: white;
            padding: 14px 20px;
            margin: 8px 0;
            border: none;
            cursor: pointer;
            width: 100%;
            opacity: 0.9;
        }

        #passRequirements {
            width: 100%;
            overflow: hidden;
            border: hidden;
            margin-bottom: 10px
        }

        #passRequirements1of2 {
            width: 50%;
            float:left;
            display: none;
        }
        #passRequirements2of2 {
            float: left;
            display: none;
        }

        #names {
            width: 100%;
            overflow: hidden;
            border: 0;
        }

        #firstName {
            width: 45%;
            float:left;
            margin-right: 5%;
        }
        #lastName {
            width: 45%;
            float: left;
            margin-left: 5%
        }



        button:hover {
            opacity:1;
        }

        /* Style the horizontal ruler */
        hr {
            border: 1px solid #f1f1f1;
            margin-bottom: 25px;
        }

        /* Change styles for cancel button and signup button on extra small screens */
        @media screen and (max-width: 300px) {
            .cancelbtn, .signupbtn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
<h1>Sign up</h1>
<fieldset th:disabled="${form}">
<form th:action="@{signup}" method="post">
    <h3><span th:text="${confirmation}"/></h3>
    <h3><span th:text="${error}"/></h3>

    <div id="formleft">
    <label><b>Username</b></label>
    <input
            type="text"
            placeholder="Username"
            name="username"
            pattern="^[a-zA-Z0-9_-]{3,15}"
            title="Use letters, numbers, - or _ only"
            th:value="${username}"
            autofocus
            required

    />


    <label><b>Password</b></label>
    <input type="checkbox" onclick="showPassword()">Show Password
    <input
            type="password"
            placeholder="At least 10 characters"
            name="password"
            id="password"
            pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{10,}$"
            title="Password must contain 1 lower case letter, 1 upper case letter, 1 number, 1 special character and at least 10 characters in length"
            th:value="${password}"
            onfocusin="showPasswordRequirements()"
            onfocusout="hidePasswordRequirements()"
            required
    />
    <div id="passRequirements">
        <div id="passRequirements1of2">
            <ul>
                <li>One lowercase letter</li>
                <li>One uppercase letter </li>
            </ul>
        </div>
        <div id="passRequirements2of2">
            <ul>
                <li>One special character</li>
                <li>10 characters minimum</li>
            </ul>
        </div>
    </div>

    <script>
        function showPassword() {
            const x = document.getElementById("password");
            if (x.type === "password") {
                x.type = "text";
            } else {
                x.type = "password";
            }
        }

        function showPasswordRequirements() {
            const x = document.getElementById("passRequirements1of2");
            const y = document.getElementById("passRequirements2of2");
            x.style.display = "inline";
            y.style.display = "inline";
        }

        function hidePasswordRequirements() {
            const x = document.getElementById("passRequirements1of2");
            const y = document.getElementById("passRequirements2of2");
            x.style.display = "none";
            y.style.display = "none";
        }
    </script>

    <div id="names">
        <div id="firstName">
    <label><b>First name</b></label>
    <input
            type="text"
            placeholder="First name"
            name="firstName"
            pattern="[a-zA-Z-'\s?]{1,100}"
            title="Use letters or - only"
            th:value="${firstName}"
            th:errorclass="fieldError"
            required
    />
        </div>

        <div id="lastName">
    <label><b>Last name</b></label>
    <input
            type="text"
            placeholder="Last name"
            name="lastName"
            pattern="[a-zA-Z-'\s?]{1,100}"
            title="Use letters or - only"
            th:value="${lastName}"
            required
    />
            </div>
    </div>

    <label><b>Email</b></label>
    <input
            type="email"
            placeholder="Email"
            name="email"
            th:value="${email}"
            required
    />

    <label><b>Address</b></label>
    <input
            type="text"
            placeholder="Address"
            name="address"
            pattern="^([1-9][e][\s])*([a-zA-Z]+(([\.][\s])|([\s]))?)+[1-9][0-9]*(([-][1-9][0-9]*)|([\s]?[a-zA-Z]+))?$"
            title="Enter a valid address"
            th:value="${address}"
            required
    />

    <label><b>City</b></label>
    <input
            type="text"
            placeholder="City"
            name="city"
            pattern="[A-Z']?[a-zA-Z _']+"
            title="Enter a valid city"
            th:value="${city}"
            required
    />

    <label name="postalCode"><b>Postal code</b></label>
    <input
            type="text"
            placeholder="9999AA"
            name="postalCode"
            pattern="^[1-9][0-9]{3} ?(?!sa|SA|Sa|sA|sd|SD|sD|Sd|ss|SS|sS|sS)[a-zA-Z]{2}$"
            title="Enter a valid postal code"
            th:value="${postalCode}"
            required
    />

    <label><b>Phone Number</b></label>
    <input
            type="text"
            placeholder="Phone number"
            name="phoneNumber"
            pattern="^(((0)[1-9]{2}[0-9][-]?[1-9][0-9]{5})|((\\+31|0|0031)[1-9][0-9][-]?[1-9][0-9]{6}))$|^(((\\+31|0|0031)6){1}[1-9]{1}[0-9]{7})$"
            title="Enter a valid Dutch phone number without country +31"
            th:value="${phoneNumber}"
            required
    />

    <label><b>BSN</b></label>
    <input
            type="text"
            placeholder="BSN"
            pattern="^[0-9]{9}$"
            name="BSN"
            title="Must consist of only 9 numbers"
            th:value="${BSN}"
            required
    />
    </div>


    <td><button type="submit" name="submit" value="Sign up">Sign Up</button></td>
</form>
</fieldset>

<td><button onclick="document.location = '/'">Homepage</button></td>
</body>
</html>